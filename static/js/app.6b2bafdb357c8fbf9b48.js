webpackJsonp([1],{"+Twb":function(e,t){},"1Jhz":function(e,t,a){"use strict";var i=a("+Twb"),n=a.n(i),s=a("w9cM");var o=function(e){a("8R+n")},r=a("VU/8")(n.a,s.a,!1,o,null,null);t.default=r.exports},"7YQu":function(e,t){},"7zck":function(e,t){},"8R+n":function(e,t){},BuxV:function(e,t){},KUQa:function(e,t){},L93B:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("v-app",[t("router-view")],1)],1)},staticRenderFns:[]};var s=a("VU/8")({name:"App"},n,!1,function(e){a("rxgH"),a("7YQu")},null,null).exports,o=a("/ocq"),r=a("mtWM"),l=a.n(r),c=a("VB9a"),v=a.n(c),d=v.a.API_URL,u={user:{authenticated:!1},authenticate:function(e,t,a){var i=this;console.log(v.a.API_URL),l.a.post(d+"/api/v1/auth",t).then(function(t){var n=t.data;e.$cookie.set("token",n.token,"1D"),e.$cookie.set("emp_id",n.user.emp_id,"1D"),e.$cookie.set("username",n.user.username,"1D"),e.$cookie.set("role",n.user.role,"1D"),e.$cookie.set("id",n.user._id,"1D"),e.validLogin=!0,i.user.authenticated=!0,a&&ge.push(a)}).catch(function(t){var a=t.response.data;e.snackbar=!0,e.loading=!1,e.message=a.message})},signout:function(e,t){e.$cookie.delete("token"),this.user.authenticated=!1,t&&ge.push(t)},signup:function(e,t,a){var i=this;l.a.post(d+"/api/v1/signup",t).then(function(n){var s=n.data.token;e.$cookie.set("token",s,"1D"),e.validSignUp=!0,i.user.authenticated=!0,i.authenticate(e,t,a)}).catch(function(t){var a=t.response.data;e.snackbar=!0,e.loading=!1,e.message=a.message})},checkAuthentication:function(){var e=document.cookie;this.user.authenticated=!!e},getAuthenticationHeader:function(e){return"Bearer "+e.$cookie.get("token")}},p={data:function(){return{snackbar:!1,validLogin:!1,validSignUp:!1,signUpVisible:!1,loginPasswordVisible:!1,signUpPasswordVisible:!1,loading:!1,rules:[function(e){return!!e||"This field is required"}],credentials:{username:"",password:""},newUser:{username:"",password:"",emp_id:""},message:"",drawer:null}},props:{source:String},methods:{submitAuthentication:function(){this.loading=!0,u.authenticate(this,this.credentials,"/")},submitSignUp:function(){u.signup(this,this.newUser,"/")}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[0==e.signUpVisible?a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[e._v("Login form")]),e._v(" "),a("v-spacer")],1),e._v(" "),e.loading?a("v-progress-linear",{attrs:{indeterminate:!0}}):e._e(),e._v(" "),a("v-card-text",[a("v-form",{attrs:{wrap:""},model:{value:e.validLogin,callback:function(t){e.validLogin=t},expression:"validLogin"}},[a("v-text-field",{attrs:{"prepend-icon":"account_box",rules:e.rules,required:"",required:"",name:"login",label:"Login",type:"text"},model:{value:e.credentials.username,callback:function(t){e.$set(e.credentials,"username",t)},expression:"credentials.username"}}),e._v(" "),a("v-text-field",{attrs:{"prepend-icon":"lock",rules:e.rules,"append-icon":e.loginPasswordVisible?"visibility":"visibility_off","append-icon-cb":function(){return e.loginPasswordVisible=!e.loginPasswordVisible},type:e.loginPasswordVisible?"text":"password",required:"",name:"password",label:"Password",id:"password",type:"password"},model:{value:e.credentials.password,callback:function(t){e.$set(e.credentials,"password",t)},expression:"credentials.password"}})],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(t){e.submitAuthentication()}}},[e._v("Login")])],1)],1):e._e(),e._v(" "),e.signUpVisible?a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[e._v("Sign Up form")]),e._v(" "),a("v-spacer")],1),e._v(" "),a("v-card-text",[a("v-form",{model:{value:e.validSignUp,callback:function(t){e.validSignUp=t},expression:"validSignUp"}},[a("v-text-field",{attrs:{label:"Username","prepend-icon":"account_box",rules:e.rules,required:""},model:{value:e.newUser.username,callback:function(t){e.$set(e.newUser,"username",t)},expression:"newUser.username"}}),e._v(" "),a("v-text-field",{attrs:{label:"Employe ID","prepend-icon":"account_box",rules:e.rules,required:""},model:{value:e.newUser.emp_id,callback:function(t){e.$set(e.newUser,"emp_id",t)},expression:"newUser.emp_id"}}),e._v(" "),a("v-text-field",{attrs:{label:"Password","prepend-icon":"lock",rules:e.rules,"append-icon":e.signUpPasswordVisible?"visibility":"visibility_off","append-icon-cb":function(){return e.signUpPasswordVisible=!e.signUpPasswordVisible},type:e.signUpPasswordVisible?"text":"password",required:""},model:{value:e.newUser.password,callback:function(t){e.$set(e.newUser,"password",t)},expression:"newUser.password"}})],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(t){e.signUpVisible=!1}}},[e._v("Login")]),e._v(" "),a("v-btn",{attrs:{block:"",color:"primary"},nativeOn:{click:function(t){e.submitSignUp()}}},[e._v("Sign Up")])],1)],1):e._e(),e._v(" "),a("v-snackbar",{attrs:{bottom:"bottom",color:"red lighten-1"},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n                  "+e._s(e.message)+"\n                  ")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},h=a("VU/8")(p,m,!1,null,null,null).exports,_=a("PJh5"),f=a.n(_),g=v.a.API_URL,b={data:function(){return{validated:1,loginPage:!1,attendances:[],disableCheckout:!1,disableCheckin:!1,attendance_id:"",currentAttendance:{},date:"",menu:!1,currentDate:f()().format("MMMM Do YYYY")}},computed:{checkInTime:function(){return this.currentAttendance?f()(this.currentAttendance.in_time).format("h:mm:ss a"):""},checkoutTime:function(){return this.currentAttendance?f()(this.currentAttendance.out_time).format("h:mm:ss a"):""},hourWorked:function(){return this.currentAttendance?(f()(this.currentAttendance.out_time).diff(f()(this.currentAttendance.in_time),"minutes")/60).toFixed(2):""}},mounted:function(){this.checkAttendance()},methods:{getAllUsers:function(e){var t=this;l.a.get(g+"/api/v1/attendance",{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(e){var a=e.data;return t.attendances=a})},markAttendance:function(e){var t=this;l.a.post(g+"/api/v1/attendance",{emp_id:this.$cookie.get("emp_id"),user_id:this.$cookie.get("id")},{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(e){var a=e.data;return t.disableCheckin=!0,t.currentAttendance=a.attendance})},checkAttendance:function(e){var t=this;l.a.get(g+"/api/v1/attendance/check",{headers:{Authorization:u.getAuthenticationHeader(this)},params:{emp_id:this.$cookie.get("emp_id")}}).then(function(e){var a=e.data;a&&a.length>0&&(t.currentAttendance=a[0],console.log(t.currentAttendance),t.attendance_id=t.currentAttendance._id,t.disableCheckin=!!t.currentAttendance._id,t.disableCheckout=!!t.currentAttendance.out_time)})},checkout:function(e){var t=this;console.log(this.currentAttendance),l.a.put(g+"/api/v1/attendance/checkout",{emp_id:this.$cookie.get("emp_id"),attendance_id:this.currentAttendance._id},{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(e){e.data;return t.disableCheckout=!0})}}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-content",[a("v-layout",[a("app-header"),e._v(" "),a("v-container",[a("v-list",{staticClass:"elevation-1 currentAttendance m-1"},[a("v-layout",{attrs:{row:"",wrap:"",header:""}},[a("v-flex",{attrs:{xs3:""}},[e._v("\n                 Date\n              ")]),e._v(" "),a("v-flex",{attrs:{xs3:""}},[e._v("\n                In Time\n              ")]),e._v(" "),a("v-flex",{attrs:{xs3:""}},[e._v("\n                Out time\n              ")]),e._v(" "),a("v-flex",{attrs:{xs3:""}},[e._v("\n                Hours Worked Today\n              ")])],1),e._v(" "),a("v-layout",{attrs:{row:"",wrap:"",content:""}},[a("v-flex",{attrs:{xs3:""}},[e._v("\n                "+e._s(e.currentDate)+"\n              ")]),e._v(" "),a("v-flex",{attrs:{xs3:"",wrap:""}},[a("div",{attrs:{wrap:""}},[e.disableCheckin?a("p",[e._v(e._s(e.checkInTime))]):a("v-btn",{attrs:{round:"",small:"",color:"green lighten-1 white--text",disabled:e.disableCheckin},on:{click:e.markAttendance}},[a("v-icon",{attrs:{left:"",dark:""}},[e._v("directions_run")]),e._v(" Check In")],1)],1)]),e._v(" "),a("v-flex",{attrs:{xs3:"",wrap:""}},[a("div",[e.disableCheckout?a("p",[e._v(" "+e._s(e.checkoutTime))]):a("v-btn",{attrs:{round:"",small:"",color:"green lighten-1 white--text",disabled:e.disableCheckout},on:{click:e.checkout}},[a("v-icon",{attrs:{left:"",dark:""}},[e._v("directions_run")]),e._v(" Check Out")],1)],1)]),e._v(" "),a("v-flex",{attrs:{xs3:""}},[e._v("\n              "+e._s(e.hourWorked)+"\n              ")])],1)],1),e._v(" "),a("app-summary",{attrs:{prop_emp_id:this.$cookie.get("id"),prop_emp_no:this.$cookie.get("emp_id")}})],1),e._v(" "),a("app-footer")],1)],1)],1)},staticRenderFns:[]};var x=a("VU/8")(b,k,!1,function(e){a("BuxV")},null,null).exports,y=a("QSfm"),A=a.n(y),w=v.a.API_URL,L={props:["prop_emp_id","prop_emp_no"],data:function(){return{validated:0,attendanceList:[],loginPage:!1,attendances:[],date:f()().format("YYYY-MM"),menu:!1,snackbar:!1,color:"success",message:"",reason:"",checkin:null,checkinMenu:!1,checkout:null,checkoutMenu:!1,menu1:!1,modal:!1,dialog2:!1,checkinTime:null,checkoutTime:null,slectedForRegularize:{},pagination:{sortBy:"date"},headers:[{text:"EmpId",align:"left",sortable:!1,value:"name"},{text:"Date",value:"Date"},{text:"In Time",value:"inTime"},{text:"Out Time",value:"outTIme"},{text:"Status",value:"status"},{text:"Hours Worked Today",value:"HoursToday"},{text:"Regularization",value:"Regularization",align:"center",sortable:!1}]}},filters:{month:function(e){return e||""}},mounted:function(){this.getAllAttendance()},methods:{getAllUsers:function(e){var t=this;l.a.get(w+"/api/v1/attendance",{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(e){var a=e.data;return t.attendances=a})},regularizeDialog:function(e,t){this.dialog2=!0,this.slectedForRegularize.emp_id=e,this.slectedForRegularize.date=t},generateDateTime:function(e,t){var a=f()(t,"HH:mm"),i=f()(e);return i.set({hour:a.get("hour"),minute:a.get("minute"),second:a.get("second")}),i},regularize:function(){var e=this;l.a.post(w+"/api/v1/attendance/regularize",{emp_id:this.slectedForRegularize.emp_id,date:this.generateDateTime(this.slectedForRegularize.date,this.checkin),in_time:this.generateDateTime(this.slectedForRegularize.date,this.checkin),out_time:this.generateDateTime(this.slectedForRegularize.date,this.checkout),reason:this.reason},{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(t){t.data;return e.snackbar=!0,e.message=" Added succesfuly",e.color="success",e.dialog2=!1}).catch(function(t){var a=t.response.data;e.snackbar=!0,e.color="error",e.message=a.message})},getAllAttendance:function(e){var t=this;l.a.get(w+"/api/v1/attendance/employe",{headers:{Authorization:u.getAuthenticationHeader(this)},params:{emp_id:this.prop_emp_no,month:this.date}}).then(function(e){var a=e.data;return t.attendanceList=a,console.log(t.attendanceList),t.changeDateFormat(),t.attendanceList=t.calculateForMonth(),console.log(t.attendanceList)})},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()},changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)},calculateForMonth:function(){for(var e=[],t=f()(this.date,"YYYY-MM"),a=f()(t).add(1,"month");t.isBefore(a);t.add(1,"day")){for(var i=!1,n=0;n<this.attendanceList.length;n++){var s=this.attendanceList[n];if(t.isSame(f()(s.date).format("YYYY-MM-DD"),"day")){"leave"==s.leave_status?(s.status="On Leave",s.in_time="Na",s.duration="Na",s.class="leave"):(s.status="present",s.date=s.date),s.emp_no=this.prop_emp_no,e.push(s),i=!0;break}}0==i&&e.push({date:f()(t),in_time:"Na",emp_id:this.prop_emp_id,emp_no:this.prop_emp_no,out_time:"Na",duration:0,status:"absent"})}return e},fnExcelReport:function(){var e='<html xmlns:x="urn:schemas-microsoft-com:office:excel">';e+="<head><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet>",e+="<x:Name>Test Sheet</x:Name>",e+="<x:WorksheetOptions><x:Panes></x:Panes></x:WorksheetOptions></x:ExcelWorksheet>",e+="</x:ExcelWorksheets></x:ExcelWorkbook></xml></head><body>",e+="<table border='1px'>",e+="<tr><td><b>Emp ID</b></td> <td> <b>Date</b></td><td><b>In Time</b></td><td><b>Out Time</b></td> <td><b>Status</b></td> <td><b>Hours Worked</b></td></tr>";for(var t=0;t<this.attendanceList.length;t++)e=(e=(e=(e=(e=(e=e+"<tr><td>"+this.attendanceList[t].emp_no+"</td>")+"<td>"+this.attendanceList[t].date.format("DD-MM-YYYY")+"</td>")+"<td>"+this.attendanceList[t].in_time+"</td>")+"<td>"+this.attendanceList[t].out_time+"</td>")+"<td>"+this.attendanceList[t].status+"</td>")+"<td>"+this.attendanceList[t].duration+"</td> </tr>";e+="</table></body></html>",console.log(e);if(window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./)){if(window.navigator.msSaveBlob){var a=new Blob([e],{type:"application/csv;charset=utf-8;"});navigator.msSaveBlob(a,"report.xls")}}else document.querySelector("#download").setAttribute("href","data:application/vnd.ms-excel, "+encodeURIComponent(e)),document.querySelector("#download").setAttribute("download","Report.xls"),document.getElementById("download").click()},changeDateFormat:function(){this.attendanceList instanceof Array&&this.attendanceList.forEach(function(e){e.in_time,e.out_time;var t=new A.a(e.date);e.date=f()(t.toDate()),e.in_time=f()(e.in_time),e.out_time?(e.out_time=f()(e.out_time),e.duration=(e.out_time.diff(e.in_time,"minutes")/60).toFixed(2),e.out_time=e.out_time.format("h:mm:ss a")):(e.out_time=0,e.duration=8),e.in_time=e.in_time.format("h:mm:ss a")})}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),e._v(" "),a("v-card",[a("v-container",{attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:""}},[a("div",[a("v-menu",{ref:"menu",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"min-width":"290px","return-value":e.date},on:{"update:returnValue":function(t){e.date=t}},model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-text-field",{attrs:{slot:"activator",label:"Picker in menu","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),e._v(" "),a("v-date-picker",{attrs:{type:"month","no-title":"",scrollable:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v("Cancel")]),e._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.$refs.menu.save(e.date)}}},[e._v("OK")])],1)],1)],1)]),e._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-btn",{attrs:{round:"",outline:"",color:"green"},on:{click:e.getAllAttendance}},[e._v("Submit")]),e._v(" "),a("v-btn",{attrs:{round:"",outline:"",color:"green"},on:{click:e.fnExcelReport}},[e._v("Export")])],1)],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.dialog2,callback:function(t){e.dialog2=t},expression:"dialog2"}},[a("v-card",[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog2=!1}}},[a("v-icon",[e._v("close")])],1),e._v(" "),a("v-toolbar-title",[e._v("Regularize")]),e._v(" "),a("v-spacer")],1),e._v(" "),a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs11:"",sm5:""}},[a("v-menu",{ref:"checkin",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"max-width":"290px","min-width":"290px","return-value":e.checkin},on:{"update:returnValue":function(t){e.checkin=t}},model:{value:e.checkinMenu,callback:function(t){e.checkinMenu=t},expression:"checkinMenu"}},[a("v-text-field",{attrs:{slot:"activator",label:"Check in ","prepend-icon":"access_time",readonly:""},slot:"activator",model:{value:e.checkin,callback:function(t){e.checkin=t},expression:"checkin"}}),e._v(" "),a("v-time-picker",{on:{change:function(t){e.$refs.checkin.save(e.checkin)}},model:{value:e.checkin,callback:function(t){e.checkin=t},expression:"checkin"}})],1)],1),e._v(" "),a("v-flex",{attrs:{xs11:"",sm5:""}},[a("v-menu",{ref:"checkout",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"max-width":"290px","min-width":"290px","return-value":e.checkout},on:{"update:returnValue":function(t){e.checkout=t}},model:{value:e.checkoutMenu,callback:function(t){e.checkoutMenu=t},expression:"checkoutMenu"}},[a("v-text-field",{attrs:{slot:"activator",label:"Checkout","prepend-icon":"access_time",readonly:""},slot:"activator",model:{value:e.checkout,callback:function(t){e.checkout=t},expression:"checkout"}}),e._v(" "),a("v-time-picker",{on:{change:function(t){e.$refs.checkout.save(e.checkout)}},model:{value:e.checkout,callback:function(t){e.checkout=t},expression:"checkout"}})],1)],1)],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs11:"",row:""}},[a("v-text-field",{attrs:{slot:"activator",label:"Reason","prepend-icon":"event","multi-line":!0,"row-height":1,"no-resize":!0,rue:"",rows:"2"},slot:"activator",model:{value:e.reason,callback:function(t){e.reason=t},expression:"reason"}})],1)],1),e._v(" "),a("v-btn",{class:{"btn--disabled":!e.checkout||!e.checkin},attrs:{round:"",color:"primary"},on:{click:function(t){e.regularize()}}},[e._v("Regularize")])],1)],1)],1),e._v(" "),a("a",{staticStyle:{display:"none"},attrs:{id:"download"}},[e._v("test")]),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.attendanceList,pagination:e.pagination,"item-key":"name","rows-per-page-items":[15,31],id:"table_wraper"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",{staticClass:"row",class:[t.item.class]},[a("td",[e._v(e._s(t.item.emp_no))]),e._v(" "),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.date.format("DD-MM-YYYY")))]),e._v(" "),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.in_time))]),e._v(" "),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.out_time))]),e._v(" "),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.status))]),e._v(" "),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.duration))]),e._v(" "),a("td",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{round:"",outline:"",color:"info"},nativeOn:{click:function(a){e.regularizeDialog(t.item.emp_id,t.item.date)}}},[e._v("Regularize")])],1)])]}}])}),e._v(" "),a("v-snackbar",{attrs:{top:!0,timeout:999,color:e.color},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n    "+e._s(e.message)+"\n  ")])],1)},staticRenderFns:[]};var j,z=a("VU/8")(L,D,!1,function(e){a("Td4y")},null,null).exports,U=v.a.API_URL,$={data:function(){return{validated:0,usersList:[],loginPage:!1,tableLoading:!1,dialog2:!1,role:this.$cookie.get("role"),employe:{username:"",password:"",emp_id:"",email:"",_id:"",tel_no:"",leaves:{privilege:null},role:"employe"},defaultSate:this.employe,pagination:{sortBy:"date"},headers:[{text:"Username",align:"left",sortable:!1,value:"username"},{text:"Email",align:"left",value:"Action"},{text:"Role",align:"left",value:"Role"},{text:"Attendance",align:"center",value:"Action",sortable:!1},{text:"Edit",align:"center",value:"Action",sortable:!1}]}},mounted:function(){this.getAllUsers(),this.getAllRegularize()},methods:{getAllUsers:function(e){var t=this;this.tableLoading=!0,l.a.get(U+"/api/v1/users/admin",{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(e){var a=e.data;return t.usersList=a,t.tableLoading=!1,t.handleUsers()})},getAllRegularize:function(e){l.a.get(U+"/api/v1/attendance/regularize",{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(e){var t=e.data;return console.log(t)})},create:function(){this.dialog2=!0,this.employe={username:"",password:"",emp_id:"",email:"",_id:"",tel_no:"",role:"employe",leaves:{privilege:null}}},editEmploye:function(e){delete e.password,this.dialog2=!0,this.employe=e},save:function(){var e=this;l.a.post(U+"/api/v1/signup",this.employe).then(function(t){t.data.token;e.getAllUsers()}).catch(function(e){e.response.data})},update:function(e){l.a.put(U+"/api/v1/user",this.employe,{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(e){var t=e.data;return console.log(t)})},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()},handleUsers:function(){console.log(this.usersList)}}},M={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-layout",[a("app-header"),e._v(" "),a("v-container",[a("h3",[e._v("Users")]),e._v(" "),a("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!1,scrollable:""},model:{value:e.dialog2,callback:function(t){e.dialog2=t},expression:"dialog2"}},[a("v-card",[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog2=!1}}},[a("v-icon",[e._v("close")])],1),e._v(" "),a("v-toolbar-title",[e._v("Employe")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",[e.employe._id?e._e():a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.save()}}},[e._v("Save")]),e._v(" "),e.employe._id?a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.update()}}},[e._v("Update")]):e._e()],1)],1),e._v(" "),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("User Controls")]),e._v(" "),a("v-divider"),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"person",label:"Employe Name "},model:{value:e.employe.name,callback:function(t){e.$set(e.employe,"name",t)},expression:"employe.name"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"person_outline",label:"Employe Username "},model:{value:e.employe.username,callback:function(t){e.$set(e.employe,"username",t)},expression:"employe.username"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{disabled:!!e.employe._id,"prepend-icon":"person_outline",label:"Employe Id "},model:{value:e.employe.emp_id,callback:function(t){e.$set(e.employe,"emp_id",t)},expression:"employe.emp_id"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"mail",label:"Employe Email "},model:{value:e.employe.email,callback:function(t){e.$set(e.employe,"email",t)},expression:"employe.email"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"phone",label:"contact No ",required:""},model:{value:e.employe.tel_no,callback:function(t){e.$set(e.employe,"tel_no",t)},expression:"employe.tel_no"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"star",label:"New Password",required:""},model:{value:e.employe.password,callback:function(t){e.$set(e.employe,"password",t)},expression:"employe.password"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"weekend",label:"leaves",required:""},model:{value:e.employe.leaves.privilege,callback:function(t){e.$set(e.employe.leaves,"privilege",t)},expression:"employe.leaves.privilege"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"weekend",label:"Sick leaves",required:""},model:{value:e.employe.leaves.sick,callback:function(t){e.$set(e.employe.leaves,"sick",t)},expression:"employe.leaves.sick"}})],1)],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("Role")]),e._v(" "),a("v-radio-group",{model:{value:e.employe.role,callback:function(t){e.$set(e.employe,"role",t)},expression:"employe.role"}},[a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-action",[a("v-radio",{attrs:{name:"emp",value:"employe"}})],1),e._v(" "),a("v-list-tile-content",{attrs:{for:"emp"}},[a("v-list-tile-title",[e._v("Employe")]),e._v(" "),a("v-list-tile-sub-title",[e._v("Can add there attendance and apply leave")])],1)],1),e._v(" "),"admin"==e.role?a("div",[a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-action",[a("v-radio",{attrs:{value:"manager"}})],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Manager")]),e._v(" "),a("v-list-tile-sub-title",[e._v("Has ability to manage the team ")])],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-action",[a("v-radio",{attrs:{value:"admin"}})],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Admin")]),e._v(" "),a("v-list-tile-sub-title",[e._v("Can add Manager")])],1)],1)],1):e._e()],1)],1),e._v(" "),e.employe._id?a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("Activation")]),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-action",[a("v-checkbox",{model:{value:e.employe.activated.active,callback:function(t){e.$set(e.employe.activated,"active",t)},expression:"employe.activated.active"}})],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Active User")]),e._v(" "),a("v-list-tile-sub-title")],1)],1)],1):e._e()],1)],1),e._v(" "),a("v-btn",{attrs:{color:"primary",fab:"",dark:""},on:{click:function(t){e.create()}}},[a("v-icon",{attrs:{dark:""}},[e._v("group_add")])],1),e._v(" "),e.tableLoading?a("v-progress-linear",{staticStyle:{"margin-bottom":"0"},attrs:{indeterminate:!0}}):e._e(),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.usersList,pagination:e.pagination,"item-key":"name"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.username))]),e._v(" "),a("td",[e._v(e._s(t.item.email))]),e._v(" "),a("td",[e._v(e._s(t.item.role.toUpperCase()))]),e._v(" "),a("td",{staticClass:"text-xs-center"},[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"attendance/"+t.item._id+"/"+t.item.emp_id}},[a("v-btn",{attrs:{fab:"",outline:"",color:"indigo lighten-1 white--text"}},[a("v-icon",[e._v("content_paste")])],1)],1)],1),e._v(" "),a("td",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{outline:"",fab:"",color:"indigo"},on:{click:function(a){e.editEmploye(t.item)}}},[a("v-icon",[e._v("edit")])],1)],1)]}}])})],1),e._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]},E=a("VU/8")($,M,!1,null,null,null).exports,R=v.a.API_URL,C={data:function(){return{user:{username:this.$cookie.get("username"),password:"",emp_id:""}}},props:{source:String},methods:{update:function(e){l.a.put(R+"/api/v1/user",{id:this.$cookie.get("id"),username:this.user.username,password:this.user.password},{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(e){var t=e.data;return console.log(t)})},submitAuthentication:function(){u.authenticate(this,this.credentials,"/")},submitSignUp:function(){u.signup(this,this.newUser,"/")}}},S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-layout",[a("app-header"),e._v(" "),a("v-container",{attrs:{"grid-list":""}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[e._v("User Details")])])]),e._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-text-field",{attrs:{label:"username"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),e._v(" "),a("v-text-field",{attrs:{label:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),e._v(" "),a("v-btn",{attrs:{color:"success"},on:{click:e.update}},[e._v("update")])],1)],1)],1),e._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]},T=(a("VU/8")(C,S,!1,null,null,null).exports,a("1Jhz")),P=a("bOdI"),H=a.n(P),Y=a("woOf"),I=a.n(Y),O=v.a.API_URL,V={props:["prop_team_id"],data:function(){return{approvalList:[],loginPage:!1,viewLeaveDialog:!1,currentLeave:{},loadingLeave:!1,approvalLoading:!1,leaveDialog:!1,loadingRegularize:!1,leaves:[],active:null,pagination:{sortBy:"date"},headers:[{text:"Emp Id",align:"left",sortable:!1,value:"username"},{text:"User Name",align:"left",sortable:!1,value:"date"},{text:"Date",align:"left",sortable:!1,value:"date"},{text:"Reason",align:"left",sortable:!1,value:"date"},{text:" Approvals",align:"center",value:"Action"}]}},mounted:function(){this.prop_team_id?(this.getAllTeamsLeaves(),this.getAllTeamRegularize()):(this.getAllLeave(),this.getAllRegularize())},computed:{startDate:function(){var e=new A.a(this.currentLeave.start_date);return f()(e.toDate()).format("YYYY-MM-DD")},endDate:function(){var e=new A.a(this.currentLeave.end_date);return f()(e.toDate()).format("YYYY-MM-DD")}},methods:(j={formatYear:function(e){var t=new A.a(e);return f()(t.toDate()).format("YYYY-MM-DD")},getAllRegularize:function(e){var t=this;this.approvalLoading=!0,l.a.get(O+"/api/v1/attendance/regularize",{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(e){var a=e.data;return t.approvalLoading=!1,t.approvalList=a})},viewLeaveDetails:function(e){this.currentLeave=e,this.viewLeaveDialog=!0},getAllTeamRegularize:function(e){var t=this;this.approvalLoading=!0,l.a.get(O+"/api/v1/team/regularize",{headers:{Authorization:u.getAuthenticationHeader(this)},params:{team_id:this.prop_team_id}}).then(function(e){var a=e.data;return t.approvalLoading=!1,t.approvalList=a})},getAllTeamsLeaves:function(e){var t=this;this.approvalLoading=!0,l.a.get(O+"/api/v1/attendance/leave/team",{headers:{Authorization:u.getAuthenticationHeader(this)},params:{team_id:this.prop_team_id}}).then(function(e){var a=e.data;return t.approvalLoading=!1,t.leaves=a})},approve:function(e,t,a,i){var n=this;this.loadingLeave=!0,l.a.post(O+"/api/v1/attendance/leave/approve",{emp_no:t},{headers:{Authorization:u.getAuthenticationHeader(this)},params:{id:e}}).then(function(t){t.data;return n.loadingLeave=!1,n.updateLeavesStatus(e)})},updateLeavesStatus:function(e){console.log(this.leaves);var t=this.leaves.findIndex(function(t){return t._id==e});I()({},this.leaves)[t].approve_status=!0},getAllLeave:function(e){var t=this;l.a.get(O+"/api/v1/attendance/leave",{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(e){var a=e.data;return t.leaves=a})},format:function(e){var t=new A.a(e);return f()(t.toDate()).format("YYYY-MM-DD")},markAttendance:function(e,t,a,i,n,s){var o=this;new A.a(t).toDate();this.loadingRegularize=!0,l.a.post(O+"/api/v1/attendance",{emp_id:e,date:a,in_time:a,out_time:i,regularize_id:n,user_id:s},{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(e){var t=e.data;return o.disableCheckin=!0,o.loadingRegularize=!1,o.currentAttendance=t.attendance})}},H()(j,"format",function(e){var t=new A.a(e);return f()(t.toDate()).format("YYYY-MM-DD")}),H()(j,"toggleAll",function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()}),H()(j,"handleUsers",function(){console.log(this.usersList)}),j)},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("h3",[e._v("Admin Approal")]),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"800px",transition:"dialog-bottom-transition"},model:{value:e.viewLeaveDialog,callback:function(t){e.viewLeaveDialog=t},expression:"viewLeaveDialog"}},[a("v-card",{attrs:{tile:""}},[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.viewLeaveDialog=!1}}},[a("v-icon",[e._v("close")])],1),e._v(" "),a("v-toolbar-title",[e._v("Leaves")]),e._v(" "),a("v-spacer")],1),e._v(" "),a("v-container",{attrs:{fluid:"","grid-list-md":"",wrap:"","elevation-3":""}},[a("v-text-field",{attrs:{label:"Start Date",value:e.startDate,"prepend-icon":"event",readonly:""}}),e._v(" "),a("v-text-field",{attrs:{label:"End Date",value:e.endDate,"prepend-icon":"event",readonly:""}}),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"Reason","prepend-icon":"event","multi-line":!0,readonly:"","row-height":5,"no-resize":!0,rue:"",rows:"2"},model:{value:e.currentLeave.desc,callback:function(t){e.$set(e.currentLeave,"desc",t)},expression:"currentLeave.desc"}})],1),e._v(" "),e.currentLeave.approve_status?a("v-chip",{attrs:{color:"teal","text-color":"white"}},[a("v-avatar",[a("v-icon",[e._v("check_circle")])],1),e._v("\n                Approved\n              ")],1):a("v-btn",{attrs:{loading:e.loadingLeave,disabled:e.loadingLeave,round:"",outline:"",color:"primary"},on:{click:function(t){e.approve(e.currentLeave._id,e.currentLeave.emp_no,e.currentLeave.approve_status,e.currentLeave)}}},[e._v("Approve")])],1)],1)],1),e._v(" "),e.approvalLoading?a("v-progress-linear",{staticStyle:{"margin-bottom":"0"},attrs:{height:"10",indeterminate:!0}}):e._e(),e._v(" "),a("v-tabs",{attrs:{"slider-color":"yellow"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("v-tab",{key:"Regularize",attrs:{ripple:""}},[e._v("\n      Regularize\n    ")]),e._v(" "),a("v-tab",{key:"Leaves",attrs:{ripple:""}},[e._v("\n      leave\n    ")]),e._v(" "),a("v-tab-item",{key:"Regularize"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.approvalList,pagination:e.pagination,"item-key":"name"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.emp_no))]),e._v(" "),a("td",[e._v(e._s(t.item.username))]),e._v(" "),a("td",[e._v(e._s(e.format(t.item.date)))]),e._v(" "),a("td",[e._v(e._s(t.item.reason))]),e._v(" "),a("td",{staticClass:"text-xs-center"},[t.item.approve_status?a("v-chip",{attrs:{color:"teal","text-color":"white"}},[a("v-avatar",[a("v-icon",[e._v("check_circle")])],1),e._v("\n                Approved\n              ")],1):a("v-btn",{attrs:{round:"",outline:"",color:"primary"},on:{click:function(a){e.markAttendance(t.item.emp_no,t.item.date,t.item.checkin,t.item.checkout,t.item._id,t.item.user_id)}}},[e._v("Approve")])],1)]}}])})],1),e._v(" "),a("v-tab-item",{key:"Leaves"},[a("v-list",{attrs:{"two-line":""}},[a("v-subheader",[e._v("leaves")]),e._v(" "),e._l(e.leaves,function(t,i){return[a("v-list-tile",{key:t._id},[a("v-list-tile-avatar",[a("span",{staticClass:"white--text headline"},[e._v(e._s(t.username.charAt(0).toUpperCase()))])]),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v(" "+e._s(t.username)+" ")]),e._v(" "),a("v-list-tile-sub-title",[e._v("Leave from "+e._s(e.format(t.start_date))+" to "+e._s(e.format(t.end_date)))]),e._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.desc)}})],1),e._v(" "),a("v-list-tile-action",[t.approve_status?a("v-chip",{attrs:{color:"teal","text-color":"white"}},[a("v-avatar",[a("v-icon",[e._v("check_circle")])],1),e._v("\n                Approved\n              ")],1):a("v-btn",{attrs:{loading:e.loadingLeave,disabled:e.loadingLeave,round:"",outline:"",color:"primary"},on:{click:function(a){e.approve(t._id,t.emp_no,t.approve_status,t)}}},[e._v("Approve")])],1),e._v(" "),a("v-list-tile-action",[a("v-btn",{attrs:{outline:"",small:"",fab:"",color:"indigo"},on:{click:function(a){e.viewLeaveDetails(t)}}},[a("v-icon",[e._v("edit")])],1)],1)],1),e._v(" "),i+1<e.leaves.length?a("v-divider",{key:i}):e._e()]})],2)],1)],1)],1)},staticRenderFns:[]},F=a("VU/8")(V,q,!1,null,null,null).exports,N=v.a.API_URL,B={data:function(){return{teamDialog:!1,dataLoading:!1,team:{name:null,members:[]},user:{username:this.$cookie.get("username"),password:"",emp_id:""},usersList:[],usersListMap:{},teams:[]}},mounted:function(){this.getAllUsers(),this.getAllTeams(),this.getAllTeamsMember()},methods:{create:function(){var e=this;this.team.manager_id=this.$cookie.get("id"),l.a.post(N+"/api/v1/manage/team",this.team,{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(t){var a=t.data;return e.teams.push(a.team),e.teamDialog=!1})},update:function(){var e=this;this.team.manager_id=this.$cookie.get("id"),l.a.put(N+"/api/v1/manage/team",this.team,{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(t){t.data;return e.teamDialog=!1})},deleteTeam:function(e){var t=this;this.team.manager_id=this.$cookie.get("id"),l.a.put(N+"/api/v1/manage/team",{active:!1,_id:e._id},{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(e){e.data;return t.getAllTeams()})},getAllUsers:function(e){var t=this;l.a.get(N+"/api/v1/users/admin",{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(e){var a=e.data;return t.usersList=a,a.forEach(function(e){t.usersListMap[e._id]=e})})},test:function(e){console.log(e)},editTeam:function(e){this.team=e,this.teamDialog=!0},openDialog:function(){this.teamDialog=!0,this.team={name:null,members:[]}},getAllTeamsMember:function(e){l.a.get(N+"/api/v1/manage/team/members",{headers:{Authorization:u.getAuthenticationHeader(this)},params:{manager_id:this.$cookie.get("id")}}).then(function(e){var t=e.data;return console.log(t)})},getAllTeams:function(e){var t=this;this.dataLoading=!0,l.a.get(N+"/api/v1/manage/team",{headers:{Authorization:u.getAuthenticationHeader(this)},params:{manager_id:this.$cookie.get("id")}}).then(function(e){var a=e.data;return t.dataLoading=!1,t.teams=a})}}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-layout",[a("app-header"),e._v(" "),a("v-container",[a("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!1,scrollable:""},model:{value:e.teamDialog,callback:function(t){e.teamDialog=t},expression:"teamDialog"}},[a("v-card",[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.teamDialog=!1}}},[a("v-icon",[e._v("close")])],1),e._v(" "),a("v-toolbar-title",[e._v("Team")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",[e.team._id?e._e():a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.create()}}},[e._v("Save")]),e._v(" "),e.team._id?a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.update()}}},[e._v("Update")]):e._e()],1)],1),e._v(" "),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("Team Controls")]),e._v(" "),a("v-divider"),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{label:"Team Name"},model:{value:e.team.name,callback:function(t){e.$set(e.team,"name",t)},expression:"team.name"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{label:"Team Desc"},model:{value:e.team.desc,callback:function(t){e.$set(e.team,"desc",t)},expression:"team.desc"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{label:"Select",items:e.usersList,"item-text":"username","item-value":"_id",multiple:"",chips:"","max-height":"300",autocomplete:""},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("v-chip",{key:JSON.stringify(t.item),staticClass:"chip--select-multi",attrs:{close:"",selected:t.selected},on:{input:function(e){t.parent.selectItem(t.item)}}},[a("v-avatar",{staticClass:"teal"},[a("span",{staticClass:"white--text"},[e._v(" "+e._s(t.item.username.charAt(0).toUpperCase()))])]),e._v("\n                        "+e._s(t.item.username)+"\n                      ")],1)]}},{key:"item",fn:function(t){return["object"!=typeof t.item?[a("v-list-tile-content",{domProps:{textContent:e._s(t.item)}})]:[a("v-list-tile-avatar",{staticClass:"dropdown_avatar"},[a("span",{staticClass:"white--text"},[e._v(" "+e._s(t.item.username.charAt(0).toUpperCase()))])]),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(t.item.username)}}),e._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.item.username)}})],1)]]}}]),model:{value:e.team.members,callback:function(t){e.$set(e.team,"members",t)},expression:"team.members"}})],1)],1)],1)],1),e._v(" "),a("v-list",{attrs:{"two-line":""}},[a("v-subheader",[e._v("Teams")]),e._v(" "),e._l(e.team.members,function(t,i){return[a("v-divider",{key:i,attrs:{inset:!0}}),e._v(" "),a("v-list-tile",{key:t,attrs:{avatar:""},on:{click:function(e){}}},[a("v-list-tile-avatar",[a("span",{staticClass:"white--text"},[e._v(" "+e._s(e.usersListMap[t].username.charAt(0)))])]),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(e.usersListMap[t].username)}}),e._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(e.usersListMap[t].username)}})],1)],1)]})],2)],1)],1),e._v(" "),a("v-btn",{attrs:{color:"primary",fab:"",dark:""},nativeOn:{click:function(t){e.openDialog(t)}}},[a("v-icon",{attrs:{dark:""}},[e._v("group_add")])],1),e._v(" "),e.dataLoading?a("v-progress-linear",{staticStyle:{"margin-bottom":"0"},attrs:{height:"8",indeterminate:!0}}):e._e(),e._v(" "),a("v-list",{attrs:{"two-line":""}},[a("v-subheader",[e._v("Teams")]),e._v(" "),e._l(e.teams,function(t,i){return[a("v-divider",{key:i,attrs:{inset:!0}}),e._v(" "),a("v-list-tile",{key:t.name,attrs:{avatar:""}},[a("v-list-tile-avatar",[a("span",{staticClass:"white--text"},[e._v(" "+e._s(t.name.charAt(0)))])]),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(t.name)}}),e._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.name)}})],1),e._v(" "),a("v-list-tile-action",[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"teamInfo/"+t._id}},[a("v-btn",{attrs:{outline:"",small:"",fab:"",color:"indigo"},on:{click:function(e){}}},[a("v-icon",[e._v("visibility")])],1)],1)],1),e._v(" "),a("v-list-tile-action",[a("v-btn",{attrs:{outline:"",small:"",fab:"",color:"indigo"},on:{click:function(a){e.editTeam(t)}}},[a("v-icon",[e._v("edit")])],1)],1),e._v(" "),a("v-list-tile-action",[a("v-btn",{attrs:{outline:"",small:"",fab:"",color:"indigo"},on:{click:function(a){e.deleteTeam(t)}}},[a("v-icon",[e._v("delete")])],1)],1)],1)]})],2)],1),e._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]};var X=a("VU/8")(B,W,!1,function(e){a("wDtO")},null,null).exports,K=v.a.API_URL,J={data:function(){return{validated:1,usersList:[],dialog2:!1,role:this.$cookie.get("role"),loginPage:this.$route.params,employe:{username:"",password:"",emp_id:"",email:"",_id:"",tel_no:"",leaves:{privilege:null},role:"employe"},headers:[{text:"Username",align:"left",sortable:!1,value:"username"},{text:"Email",align:"center",value:"Action"},{text:"Action",align:"center",value:"Action"},{text:"Action2",align:"center",value:"Action"}]}},mounted:function(){this.getAllUsers()},methods:{editEmploye:function(e){delete e.password,this.dialog2=!0,this.employe=e},update:function(e){l.a.put(K+"/api/v1/user",this.employe,{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(e){var t=e.data;return console.log(t)})},getAllUsers:function(e){var t=this;l.a.get(K+"/api/v1/manage/team/members",{headers:{Authorization:u.getAuthenticationHeader(this)},params:{team_id:this.$route.params.teamId}}).then(function(e){var a=e.data;return t.usersList=a})}}},Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-layout",[a("app-header"),e._v(" "),a("v-container",[a("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!1,scrollable:""},model:{value:e.dialog2,callback:function(t){e.dialog2=t},expression:"dialog2"}},[a("v-card",[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog2=!1}}},[a("v-icon",[e._v("close")])],1),e._v(" "),a("v-toolbar-title",[e._v("Employe")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",[e.employe._id?e._e():a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.save()}}},[e._v("Save")]),e._v(" "),e.employe._id?a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.update()}}},[e._v("Update")]):e._e()],1)],1),e._v(" "),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("User Controls")]),e._v(" "),a("v-divider"),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"person",label:"Employe Name "},model:{value:e.employe.name,callback:function(t){e.$set(e.employe,"name",t)},expression:"employe.name"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"person_outline",label:"Employe Username "},model:{value:e.employe.username,callback:function(t){e.$set(e.employe,"username",t)},expression:"employe.username"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{disabled:!!e.employe._id,"prepend-icon":"person_outline",label:"Employe Id "},model:{value:e.employe.emp_id,callback:function(t){e.$set(e.employe,"emp_id",t)},expression:"employe.emp_id"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"mail",label:"Employe Email "},model:{value:e.employe.email,callback:function(t){e.$set(e.employe,"email",t)},expression:"employe.email"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"phone",label:"contact No ",required:""},model:{value:e.employe.tel_no,callback:function(t){e.$set(e.employe,"tel_no",t)},expression:"employe.tel_no"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"star",label:"New Password",required:""},model:{value:e.employe.password,callback:function(t){e.$set(e.employe,"password",t)},expression:"employe.password"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"weekend",label:"leaves",required:""},model:{value:e.employe.leaves.privilege,callback:function(t){e.$set(e.employe.leaves,"privilege",t)},expression:"employe.leaves.privilege"}})],1)],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("Role")]),e._v(" "),a("v-radio-group",{model:{value:e.employe.role,callback:function(t){e.$set(e.employe,"role",t)},expression:"employe.role"}},[a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-action",[a("v-radio",{attrs:{name:"emp",value:"employe"}})],1),e._v(" "),a("v-list-tile-content",{attrs:{for:"emp"}},[a("v-list-tile-title",[e._v("Employe")]),e._v(" "),a("v-list-tile-sub-title",[e._v("Can add there attendance and apply leave")])],1)],1),e._v(" "),"admin"==e.role?a("div",[a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-action",[a("v-radio",{attrs:{value:"manager"}})],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Manager")]),e._v(" "),a("v-list-tile-sub-title",[e._v("Has ability to manage the team ")])],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-action",[a("v-radio",{attrs:{value:"admin"}})],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Admin")]),e._v(" "),a("v-list-tile-sub-title",[e._v("Can add Manager")])],1)],1)],1):e._e()],1)],1)],1)],1),e._v(" "),a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"../teamApproval/"+e.$route.params.teamId}},[a("v-btn",{attrs:{round:"",outline:"",color:"info lighten-1 white--text"}},[a("v-icon",{attrs:{small:"",left:""}},[e._v("chrome_reader_mode")]),e._v(" Leaves Approvals\n              ")],1)],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.usersList,"item-key":"name"},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.username))]),e._v(" "),a("td",[e._v(e._s(t.item.email))]),e._v(" "),a("td",{staticClass:"text-xs-center"},[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"../attendance/"+t.item._id+"/"+t.item.emp_id}},[a("v-btn",{attrs:{round:"",outline:"",color:"info lighten-1 white--text"}},[a("v-icon",{attrs:{small:"",left:""}},[e._v("chrome_reader_mode")]),e._v(" Attendance\n                  ")],1)],1)],1),e._v(" "),a("td",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{outline:"",small:"",fab:"",color:"indigo"},on:{click:function(a){e.editEmploye(t.item)}}},[a("v-icon",[e._v("edit")])],1)],1)]}}])})],1),e._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]},G=a("VU/8")(J,Q,!1,null,null,null).exports,Z=(v.a.API_URL,{data:function(){return{user:{username:this.$cookie.get("username"),password:"",emp_id:""}}},props:{source:String},methods:{}}),ee={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-content",[t("v-layout",[t("app-header"),this._v(" "),t("app-approval",{attrs:{prop_team_id:this.$route.params.teamId}}),this._v(" "),t("app-footer")],1)],1)},staticRenderFns:[]},te=a("VU/8")(Z,ee,!1,null,null,null).exports,ae=v.a.API_URL,ie={data:function(){return{user:{username:this.$cookie.get("username"),password:"",emp_id:""}}},props:{source:String},methods:{update:function(e){l.a.put(ae+"/api/v1/user",{id:this.$cookie.get("id"),username:this.user.username,password:this.user.password},{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(e){var t=e.data;return console.log(t)})},submitAuthentication:function(){u.authenticate(this,this.credentials,"/")},submitSignUp:function(){u.signup(this,this.newUser,"/")}}},ne={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-content",[t("v-layout",[t("app-header"),this._v(" "),t("app-approval"),this._v(" "),t("app-footer")],1)],1)},staticRenderFns:[]},se=a("VU/8")(ie,ne,!1,null,null,null).exports,oe=v.a.API_URL,re={data:function(){var e=this;return{valid:!1,leaveDialog:!1,snackbar:!0,dataLoading:!1,leaves:[],message:"",color:"success",empId:this.$cookie.get("id"),startDateMenu:!1,date:f()().format("YYYY-MM-DD"),leave:{emp_id:this.$cookie.get("id")},endDateMenu:!1,endDate:null,loginPage:!1,leavesAvailable:0,sickLeave:0,endDateRule:[function(e){return!!e||"date is required"},function(t){return t&&f()(e.leave.endDate).isSameOrAfter(f()(e.leave.startDate))||"End Date must be greater than Start Date"},function(t){return t&&e.verifyEndDate()||"no leavs availabe"}],pagination:{sortBy:"date"},headers:[{text:"Username",align:"left",sortable:!1,value:"username"},{text:"Date",align:"left",sortable:!1,value:"date"},{text:"Action",align:"center",value:"Action"}]}},mounted:function(){this.getAllLeave(),this.getEmpDetails()},methods:{addLeave:function(){this.leave={emp_id:this.$cookie.get("id")},this.leaveDialog=!0},edit:function(e){e.startDate=this.formatYear(e.start_date),e.endDate=this.formatYear(e.end_date),this.leave=e,this.leaveDialog=!0},getAllLeave:function(e){var t=this;this.dataLoading=!0,l.a.get(oe+"/api/v1/attendance/leave",{headers:{Authorization:u.getAuthenticationHeader(this)},params:{emp_id:this.empId}}).then(function(e){var a=e.data;return t.dataLoading=!1,t.leaves=a})},verifyEndDate:function(){var e=f()(this.leave.endDate).diff(f()(this.leave.startDate),"days")+1;return console.log(this.sickleave),console.log(0==this.leavesAvailable&&e<=this.sickLeave),e<=this.leavesAvailable||0==this.leavesAvailable&&e<=this.sickLeave},getEmpDetails:function(e){var t=this;l.a.get(oe+"/api/v1/users/admin",{headers:{Authorization:u.getAuthenticationHeader(this)},params:{_id:this.empId}}).then(function(e){var a=e.data;return t.leavesAvailable=a[0].leaves.privilege,t.sickLeave=a[0].leaves.sick})},formatYear:function(e){var t=new A.a(e);return f()(t.toDate()).format("YYYY-MM-DD")},updateLeave:function(){var e=this;l.a.put(oe+"/api/v1/attendance/leave",this.leave,{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(t){var a=t.data;return e.disableCheckin=!0,e.currentAttendance=a.attendance,e.snackbar=!0,e.color="succes",e.message="Appplied Leave succesfully"}).catch(function(t){t.response.data;e.snackbar=!0,e.color="error",e.message="Sorry could not update"})},applyLeave:function(){var e=this;l.a.post(oe+"/api/v1/attendance/leave",this.leave,{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(t){var a=t.data;return e.disableCheckin=!0,e.leaves.push(a.leave),e.currentAttendance=a.attendance,e.snackbar=!0,e.color="succes",e.message="Appplied Leave succesfully"}).catch(function(t){var a=t.response.data;e.snackbar=!0,e.color="error",e.message=a.message})},format:function(e){var t=new A.a(e);return f()(t.toDate()).format("MMMM Do YYYY")},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()},handleUsers:function(){console.log(this.usersList)}}},le={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-content",[a("v-layout",[a("app-header"),e._v(" "),a("v-container",[a("v-dialog",{attrs:{persistent:"","max-width":"800px",transition:"dialog-bottom-transition"},model:{value:e.leaveDialog,callback:function(t){e.leaveDialog=t},expression:"leaveDialog"}},[a("v-card",{attrs:{tile:""}},[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.leaveDialog=!1}}},[a("v-icon",[e._v("close")])],1),e._v(" "),a("v-toolbar-title",[e._v("Leaves")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",[e.leave._id?a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.updateLeave()}}},[e._v("Save")]):e._e()],1)],1),e._v(" "),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{fluid:"","grid-list-md":"",wrap:"","elevation-3":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"",sm5:"",md5:""}},[a("v-menu",{ref:"startDateMenu",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"min-width":"290px","return-value":e.leave.startDate},on:{"update:returnValue":function(t){e.$set(e.leave,"startDate",t)}},model:{value:e.startDateMenu,callback:function(t){e.startDateMenu=t},expression:"startDateMenu"}},[a("v-text-field",{attrs:{slot:"activator",label:"Start Date","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.leave.startDate,callback:function(t){e.$set(e.leave,"startDate",t)},expression:"leave.startDate"}}),e._v(" "),a("v-date-picker",{on:{input:function(t){e.$refs.startDateMenu.save(e.leave.startDate)}},model:{value:e.leave.startDate,callback:function(t){e.$set(e.leave,"startDate",t)},expression:"leave.startDate"}})],1)],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:"",sm5:"",md5:""}},[a("v-menu",{ref:"endDateMenu",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"min-width":"290px","return-value":e.endDate},on:{"update:returnValue":function(t){e.endDate=t}},model:{value:e.endDateMenu,callback:function(t){e.endDateMenu=t},expression:"endDateMenu"}},[a("v-text-field",{attrs:{slot:"activator",label:"End Date",rules:e.endDateRule,"prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.leave.endDate,callback:function(t){e.$set(e.leave,"endDate",t)},expression:"leave.endDate"}}),e._v(" "),a("v-date-picker",{on:{input:function(t){e.$refs.endDateMenu.save(e.leave.endDate)}},model:{value:e.leave.endDate,callback:function(t){e.$set(e.leave,"endDate",t)},expression:"leave.endDate"}})],1)],1)],1),e._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:""}},[a("v-text-field",{attrs:{label:"Reason","prepend-icon":"event","multi-line":!0,"row-height":5,"no-resize":!0,rue:"",rows:"2"},model:{value:e.leave.desc,callback:function(t){e.$set(e.leave,"desc",t)},expression:"leave.desc"}})],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:"",sm6:"",md5:""}},[a("div",{staticClass:"text-xs-center"},[a("v-chip",{attrs:{color:"teal","text-color":"white"}},[a("v-avatar",{staticClass:"teal darken-4"},[e._v(e._s(e.leavesAvailable)+" ")]),e._v("\n                        Leaves Available\n                      ")],1)],1),e._v(" "),a("div",{staticClass:"text-xs-center"},[a("v-chip",{attrs:{color:"teal","text-color":"white"}},[a("v-avatar",{staticClass:"teal darken-4"},[e._v(e._s(e.sickLeave)+" ")]),e._v("\n                        Sick Leaves Available\n                      ")],1)],1)])],1),e._v(" "),e.leave._id?e._e():a("v-btn",{attrs:{round:"",color:"green lighten-1 white--text",disabled:!e.valid},on:{click:e.applyLeave}},[a("v-icon",{attrs:{left:"",dark:""}},[e._v("directions_run")]),e._v(" Apply")],1)],1)],1)],1)],1),e._v(" "),a("v-btn",{attrs:{color:"primary",fab:"",dark:""},nativeOn:{click:function(t){e.addLeave()}}},[a("v-icon",{attrs:{dark:""}},[e._v("add_circle")])],1),e._v(" "),e.dataLoading?a("v-progress-linear",{staticStyle:{"margin-bottom":"0"},attrs:{height:"8",indeterminate:!0}}):e._e(),e._v(" "),a("v-list",{staticClass:"elevation-3",attrs:{"two-line":"",wrap:""}},[a("v-subheader",[e._v("leaves")]),e._v(" "),e._l(e.leaves,function(t,i){return[a("v-list-tile",{key:t._id},[a("v-list-tile-avatar",{staticClass:"color"},[a("span",{staticClass:"white--text headline"},[e._v(e._s(t.username.charAt(0).toUpperCase()))])]),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v(" "+e._s(t.username)+" ")]),e._v(" "),a("v-list-tile-sub-title",[e._v("Leave from "+e._s(e.format(t.start_date))+" to "+e._s(e.format(t.end_date)))]),e._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.desc)}})],1),e._v(" "),t.approve_status?a("v-chip",{attrs:{color:"teal","text-color":"white"}},[a("v-avatar",[a("v-icon",[e._v("check_circle")])],1),e._v("\n                Approved\n              ")],1):a("v-chip",{attrs:{color:"info","text-color":"white"}},[a("v-avatar",[a("v-icon",[e._v("hourglass_empty")])],1),e._v("\n                Pending\n              ")],1),e._v(" "),t.approve_status?e._e():a("v-list-tile-action",[a("v-btn",{attrs:{outline:"",small:"",fab:"",color:"indigo"},on:{click:function(a){e.edit(t)}}},[a("v-icon",[e._v("edit")])],1)],1)],1),e._v(" "),i+1<e.leaves.length?a("v-divider",{key:i}):e._e()]})],2),e._v(" "),a("v-snackbar",{attrs:{top:!0,timeout:999,color:e.color},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n          "+e._s(e.message)+"\n        ")])],1),e._v(" "),a("app-footer")],1)],1)],1)},staticRenderFns:[]};var ce=a("VU/8")(re,le,!1,function(e){a("KUQa")},null,null).exports,ve=v.a.API_URL,de={data:function(){return{search:"",status:"",employe:{},profileDialog:!1,drawer:null,role:this.$cookie.get("role")}},mounted:function(){this.getEmpDetails()},methods:{submitSignout:function(){u.signout(this,"/login")},getEmpDetails:function(e){var t=this;l.a.get(ve+"/api/v1/users/admin",{headers:{Authorization:u.getAuthenticationHeader(this)},params:{_id:this.$cookie.get("id")}}).then(function(e){var a=e.data;return t.employe=a[0]})},goToLink:function(e){ge.push(e)},update:function(e){l.a.put(ve+"/api/v1/user",this.employe,{headers:{Authorization:u.getAuthenticationHeader(this)}}).then(function(e){var t=e.data;return console.log(t)})}},props:{source:String}},ue={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!1},model:{value:e.profileDialog,callback:function(t){e.profileDialog=t},expression:"profileDialog"}},[a("v-card",[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.profileDialog=!1}}},[a("v-icon",[e._v("close")])],1),e._v(" "),a("v-toolbar-title",[e._v("Employe")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",[e.employe._id?e._e():a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.save()}}},[e._v("Save")]),e._v(" "),e.employe._id?a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.update()}}},[e._v("Update")]):e._e()],1)],1),e._v(" "),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("Profile Info")]),e._v(" "),a("v-divider"),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"person",label:"Employe Name "},model:{value:e.employe.name,callback:function(t){e.$set(e.employe,"name",t)},expression:"employe.name"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"person_outline",label:"Employe Username "},model:{value:e.employe.username,callback:function(t){e.$set(e.employe,"username",t)},expression:"employe.username"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{disabled:!!e.employe._id,"prepend-icon":"person_outline",label:"Employe Id "},model:{value:e.employe.emp_id,callback:function(t){e.$set(e.employe,"emp_id",t)},expression:"employe.emp_id"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"mail",label:"Employe Email "},model:{value:e.employe.email,callback:function(t){e.$set(e.employe,"email",t)},expression:"employe.email"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"phone",label:"contact No ",required:""},model:{value:e.employe.tel_no,callback:function(t){e.$set(e.employe,"tel_no",t)},expression:"employe.tel_no"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"star",label:"New Password",required:""},model:{value:e.employe.password,callback:function(t){e.$set(e.employe,"password",t)},expression:"employe.password"}})],1)],1)],1),e._v(" "),a("v-divider")],1)],1),e._v(" "),a("header",{staticClass:"l-header-container"},[a("v-navigation-drawer",{attrs:{fixed:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",[a("v-list-tile",{on:{click:function(t){e.goToLink("/")}}},[a("v-list-tile-action",[a("v-icon",[e._v("home")])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Home")])],1)],1),e._v(" "),a("v-list-tile",{on:{click:function(t){e.goToLink("/leave")}}},[a("v-list-tile-action",[a("v-icon",[e._v("weekend")])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Leave")])],1)],1),e._v(" "),"admin"==e.role?a("v-list-tile",{on:{click:function(t){e.goToLink("/approvals")}}},[a("v-list-tile-action",[a("v-icon",[e._v("featured_play_list")])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Approvals ")])],1)],1):e._e(),e._v(" "),"admin"==e.role||"manager"==e.role?a("v-list-tile",{on:{click:function(t){e.goToLink("/teams")}}},[a("v-list-tile-action",[a("v-icon",[e._v("group_work")])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Teams")])],1)],1):e._e(),e._v(" "),"admin"==e.role?a("v-list-tile",{on:{click:function(t){e.goToLink("/adminView")}}},[a("v-list-tile-action",[a("v-icon",[e._v("person")])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("AdminView")])],1)],1):e._e()],1)],1),e._v(" "),a("v-toolbar",{attrs:{color:"indigo",dark:"",fixed:"",app:""}},[a("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),a("v-toolbar-title",[e._v("Application")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",[a("v-menu",{attrs:{bottom:"","offset-y":""}},[a("v-btn",{attrs:{slot:"activator",icon:"",large:""},slot:"activator"},[a("v-icon",[e._v("settings")])],1),e._v(" "),a("v-list",[a("v-list-tile",{on:{click:function(t){e.profileDialog=!0}}},[a("v-list-tile-title",[a("v-icon",[e._v("account_circle")]),e._v(" Profile")],1)],1),e._v(" "),a("v-list-tile",{on:{click:function(t){e.submitSignout()}}},[a("v-list-tile-title",[a("v-icon",[e._v("input")]),e._v(" Log out")],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var pe=a("VU/8")(de,ue,!1,function(e){a("L93B")},null,null).exports,me={data:function(){return{search:"",status:""}},methods:{submitSignout:function(){u.signout(this,"/login")}}},he={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-footer",{attrs:{color:"indigo",app:""}},[t("span",{staticClass:"white--text"},[this._v("© 2018")])])},staticRenderFns:[]};var _e=a("VU/8")(me,he,!1,function(e){a("q8cZ")},null,null).exports;i.a.component("app-header",pe),i.a.component("app-footer",_e),i.a.component("app-summary",z),i.a.component("app-approval",F),i.a.use(o.a);var fe=new o.a({routes:[{path:"/",name:"Home",components:{default:x,header:pe,summary:z,footer:_e},meta:{requiredAuth:!0}},{path:"/login",name:"Authentication",component:h},{path:"/attendance/:id/:emp_no",name:"Attendance",components:{default:T.default,header:pe,summary:z,footer:_e},meta:{requiredAuth:!0}},{path:"/summary",name:"Summary",components:{default:z,header:pe,footer:_e},meta:{requiredAuth:!0}},{path:"/adminView",name:"AdminView",components:{default:E,header:pe,foter:_e},meta:{requiredAuth:!0}},{path:"/approvals",name:"Apprvals",components:{default:se,header:pe,foter:_e},meta:{requiredAuth:!0}},{path:"/teams",name:"Teams",components:{default:X,header:pe,foter:_e},meta:{requiredAuth:!0}},{path:"/teamInfo/:teamId",name:"TeamInfo",components:{default:G,header:pe,foter:_e},meta:{requiredAuth:!0}},{path:"/teamApproval",name:"TeamApproval",components:{default:te,header:pe,foter:_e},meta:{requiredAuth:!0}},{path:"/teamApproval/:teamId",name:"TeamApproval",components:{default:te,header:pe,foter:_e},meta:{requiredAuth:!0}},{path:"/leave",name:"Leave",components:{default:ce,header:pe,foter:_e},meta:{requiredAuth:!0}}]});fe.beforeEach(function(e,t,a){console.log(u.user),e.meta.requiredAuth?u.user.authenticated?a():fe.push("/login"):a()});var ge=fe,be=a("K/Lq"),ke=a.n(be),xe=a("3EgV"),ye=a.n(xe);a("7zck"),a("IHMs");i.a.use(ke.a),i.a.use(ye.a),i.a.config.productionTip=!1,u.checkAuthentication(),new i.a({el:"#app",router:ge,components:{App:s},template:"<App/>"})},Td4y:function(e,t){},VB9a:function(e,t){e.exports={API_URL:"https://employee-attendance-api.herokuapp.com"}},q8cZ:function(e,t){},rxgH:function(e,t){},uslO:function(e,t,a){var i={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function n(e){return a(s(e))}function s(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}n.keys=function(){return Object.keys(i)},n.resolve=s,e.exports=n,n.id="uslO"},w9cM:function(e,t,a){"use strict";var i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-content",[t("v-layout",[t("app-header"),this._v(" "),t("v-container",[t("app-summary",{attrs:{prop_emp_id:this.$route.params.id,prop_emp_no:this.$route.params.emp_no}})],1),this._v(" "),t("app-footer")],1)],1)},staticRenderFns:[]};t.a=i},wDtO:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.6b2bafdb357c8fbf9b48.js.map